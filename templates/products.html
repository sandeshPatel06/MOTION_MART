<div class="container">
  <h1>Our Products</h1>
  <div id="messageBox" class="message-box"></div>
  <div class="row">
    {% if products %} {% for product in products %}
    <div onclick="viewProductDetails('{{ product.id }}')" class="product-card">
      <img
        src="{{ url_for('static', filename=product.image_path) }}"
        alt="{{ product.name }}"
      />
      <h3>{{ product.name }}</h3>
      <p><strong>Price:</strong> {{ product.price }}</p>
      <button class="btn add-to-cart" onclick="addToCart('{{ product.id }}')">
        Add to Cart
      </button>
      <button
        class="btn buy-now"
        data-product-id="{{ product.id }}"
        data-product-name="{{ product.name }}"
        data-product-price="{{ product.price }}"
        onclick="buynow('{{ product.id }}', '{{ product.name }}', '{{ product.price }}')"
      >
        Buy Now
      </button>

      <button
        class="btn view-details"
        onclick="viewProductDetails('{{ product.id }}')"
      >
        View Details
      </button>
    </div>
    {% endfor %} {% else %}
    <div class="alert" role="alert">No products available.</div>
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Products - Motion Mart</title>
        <style>
          /* --- Common Styles (Body Reset, Navbar, Footer, etc.) --- */
          /* --- PASTE THE SAME COMMON STYLES AS IN login.html HERE --- */
          body {
            padding: 0;
            margin: 0;
            font-family: Arial, sans-serif;
          }
          .navbar {
            /* ... navbar styles ... */
          }
          .navbar-container {
            /* ... */
          }
          .navbar-logo {
            /* ... */
          }
          .navbar-brand {
            /* ... */
          }
          .navbar-brand:hover {
            /* ... */
          }
          .navbar-links {
            /* ... */
          }
          .navbar-links li {
            /* ... */
          }
          .navbar-links a {
            /* ... */
          }
          .navbar-links a:hover,
          .navbar-links a.active {
            /* ... */
          }
          @media screen and (max-width: 768px) {
            /* ... navbar media queries ... */
          }
          .footer {
            /* ... footer styles ... */
          }
          .footer-container {
            /* ... */
          }
          .footer-column {
            /* ... */
          }
          .footer-column h4 {
            /* ... */
          }
          .footer-column p {
            /* ... */
          }
          .footer-column a {
            /* ... */
          }
          .footer-column a:hover {
            /* ... */
          }
          .footer-column ul {
            /* ... */
          }
          .footer-column ul li {
            /* ... */
          }
          .footer-column .social-icons {
            /* ... */
          }
          .footer-column .social-icons a {
            /* ... */
          }
          .footer-column .social-icons a:hover {
            /* ... */
          }
          .footer-bottom {
            /* ... */
          }
          .footer-bottom p {
            /* ... */
          }
          .footer-bottom a {
            /* ... */
          }
          .footer-bottom a:hover {
            /* ... */
          }
          @media screen and (max-width: 768px) {
            /* ... footer media queries ... */
          }
          @media screen and (max-width: 480px) {
            /* ... footer media queries ... */
          }

          /* --- Styles SPECIFIC to Products Page --- */
          .container {
            /* General container if used on this page */
            width: auto;
            margin: 0 auto;
            padding: 20px;
            /* border: 5px solid white; */ /* Keep or remove as needed */
          }
          h1 {
            /* General h1 styling if needed */
            text-align: center;
            margin-bottom: 20px;
          }
          /* Product Cards */
          .row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            padding: 20px; /* Add padding to the row container */
          }
          .product-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            width: 200px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex; /* Use flexbox for alignment */
            flex-direction: column; /* Stack items vertically */
            justify-content: space-between; /* Space out content */
          }
          .product-card img {
            width: 100%;
            max-height: 150px; /* Limit image height */
            object-fit: contain; /* Scale image nicely */
            margin-bottom: 15px;
            cursor: pointer;
          }
          .product-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            flex-grow: 1; /* Allow title to take space */
          }
          .product-card p {
            font-size: 16px;
            color: #555;
            margin-bottom: 15px; /* Add margin below price */
          }
          .product-card .btn {
            /* Style buttons within product cards */
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            font-size: 14px; /* Ensure consistent font size */
            box-sizing: border-box; /* Include padding in width */
          }
          .product-card .btn:hover {
            opacity: 0.8;
          }
          .product-card .add-to-cart {
            background-color: #28a745;
            color: white;
          }
          .product-card .buy-now {
            background-color: #007bff;
            color: white;
          }
          .product-card .view-details {
            background-color: #6c757d;
            color: white;
          }
          /* Modal Styling */
          .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1000; /* Ensure it's on top */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Darker overlay */
            justify-content: center;
            align-items: center;
          }
          .modal.active {
            /* Class to show the modal */
            display: flex;
          }
          .modal-content {
            background-color: #fff;
            padding: 30px; /* More padding */
            border-radius: 8px;
            width: 600px; /* Adjust width */
            max-width: 90%;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
          }
          .modal-content img {
            width: 100%;
            height: auto;
            max-height: 400px; /* Allow larger image in modal */
            object-fit: contain;
            margin-bottom: 20px; /* Space below image */
          }
          .modal-content h3 {
            /* Style title in modal */
            font-size: 22px;
            margin-bottom: 15px;
          }
          .modal-content p {
            /* Style description/price in modal */
            font-size: 16px;
            margin-bottom: 20px;
            color: #333;
          }
          .modal .close {
            font-size: 35px; /* Larger close button */
            font-weight: bold;
            color: #555;
            cursor: pointer;
            position: absolute;
            top: 10px;
            right: 15px;
            line-height: 1;
          }
          .modal .close:hover {
            color: #000;
          }
          /* Responsive Layout */
          @media screen and (max-width: 768px) {
            .row {
              flex-direction: column;
              align-items: center;
            }
            .product-card {
              width: 80%;
              max-width: 300px; /* Adjust width for smaller screens */
            }
            .modal-content {
              width: 90%;
            }
          }
        </style>
      </head>
      <body>
        <!-- Navbar HTML -->
        <nav class="navbar">
          <!-- ... navbar content ... -->
        </nav>

        <!-- Products Display HTML -->
        <div class="container">
          <h1>Our Products</h1>
          <div class="row">
            <!-- Example Product Card -->
            <div class="product-card">
              <img
                src="/static/images/product1.jpg"
                alt="Product 1"
                onclick="openModal('modal1')"
              />
              <!-- Example image path -->
              <h3>Product Title 1</h3>
              <p>$19.99</p>
              <button class="btn add-to-cart">Add to Cart</button>
              <button class="btn view-details" onclick="openModal('modal1')">
                View Details
              </button>
            </div>
            <!-- Add more product cards -->
          </div>
        </div>

        <!-- Example Modal Structure -->
        <div id="modal1" class="modal">
          <div class="modal-content">
            <span class="close" onclick="closeModal('modal1')">&times;</span>
            <img src="/static/images/product1.jpg" alt="Product 1" />
            <h3>Product Title 1</h3>
            <p>
              Detailed description of Product 1 goes here. It's a fantastic
              product!
            </p>
            <p><strong>$19.99</strong></p>
            <button class="btn add-to-cart">Add to Cart</button>
            <button class="btn buy-now">Buy Now</button>
          </div>
        </div>
        <!-- Add more modals corresponding to product cards -->

        <!-- Footer HTML -->
        <footer class="footer">
          <!-- ... footer content ... -->
        </footer>

        <!-- Optional: Scripts for hamburger menu and modal -->
        <script>
          // Add JS for hamburger toggle if needed

          // Basic Modal JS
          function openModal(modalId) {
            document.getElementById(modalId).classList.add("active");
          }

          function closeModal(modalId) {
            document.getElementById(modalId).classList.remove("active");
          }

          // Close modal if clicking outside the content
          window.onclick = function (event) {
            const modals = document.querySelectorAll(".modal");
            modals.forEach((modal) => {
              if (event.target == modal) {
                modal.classList.remove("active");
              }
            });
          };
        </script>
      </body>
    </html>

    {% endif %}
  </div>
</div>

<!-- Product Details Modal -->
<div id="productDetailsModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <div id="productDetailsContent"></div>
    <button class="btn add-to-cart" onclick="addToCart(product.id)">
      Add to Cart
    </button>
    <button
      class="btn buy-now"
      onclick="buyNow(product.id, product.name, product.price)"
    >
      Buy Now
    </button>
  </div>
</div>

<!-- Order Summary Modal -->
<div id="orderSummaryModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeOrderSummaryModal()">&times;</span>
    <h3>Order Summary</h3>
    <div id="orderSummaryContent"></div>
    <button class="btn" onclick="proceedToPayment()">Proceed to Payment</button>
  </div>
</div>
