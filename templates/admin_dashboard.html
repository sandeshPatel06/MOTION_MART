<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - MOTION_MART</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='admin_dashboard.css') }}">
    <script src="{{ url_for('static', filename='admin_dashboard.js') }}" defer></script>
</head>
<body>
    <div class="dashboard-container">
        <div class="dashboard-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h4 class="logo">
                        <i class="bi bi-shop"></i> MOTION_MART
                    </h4>
                    <button id="sidebar-toggle" class="sidebar-toggle">
                        <i class="bi bi-list"></i>
                    </button>
                </div>
                <div class="sidebar-content">
                    <div class="sidebar-title">Admin Panel</div>
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a class="nav-link active" href="{{ url_for('admin_dashboard') }}">
                                <i class="bi bi-speedometer2"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('admin_orders') }}">
                                <i class="bi bi-cart-check"></i>
                                <span>Orders</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('manage_users') }}">
                                <i class="bi bi-people"></i>
                                <span>Users</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('manage_products') }}">
                                <i class="bi bi-box"></i>
                                <span>Products</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('profile') }}">
                                <i class="bi bi-person"></i>
                                <span>Profile</span>
                            </a>
                        </li>
                    </ul>
                    <div class="sidebar-footer">
                        <a class="logout-link" href="{{ url_for('logout') }}">
                            <i class="bi bi-box-arrow-right"></i>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <header class="content-header">
                    <div class="header-title">
                        <h2>Dashboard Overview</h2>
                        <p class="subtitle">Welcome back, Admin</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-outline">
                            <i class="bi bi-download"></i> Export
                        </button>
                        <button class="btn btn-primary">
                            <i class="bi bi-plus-lg"></i> Add New
                        </button>
                    </div>
                </header>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <h6 class="stat-label">Total Orders</h6>
                                <h3 class="stat-value">{{ total_orders }}</h3>
                            </div>
                            <div class="stat-icon order-icon">
                                <i class="bi bi-cart"></i>
                            </div>
                        </div>
                        <div class="stat-footer">
                            <span class="trend positive">
                                <i class="bi bi-arrow-up"></i> 12%
                            </span>
                            <span class="period">From last month</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <h6 class="stat-label">Total Users</h6>
                                <h3 class="stat-value">{{ total_users }}</h3>
                            </div>
                            <div class="stat-icon user-icon">
                                <i class="bi bi-people"></i>
                            </div>
                        </div>
                        <div class="stat-footer">
                            <span class="trend positive">
                                <i class="bi bi-arrow-up"></i> 5%
                            </span>
                            <span class="period">From last month</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <h6 class="stat-label">Total Products</h6>
                                <h3 class="stat-value">{{ total_products }}</h3>
                            </div>
                            <div class="stat-icon product-icon">
                                <i class="bi bi-box"></i>
                            </div>
                        </div>
                        <div class="stat-footer">
                            <span class="trend positive">
                                <i class="bi bi-arrow-up"></i> 8%
                            </span>
                            <span class="period">From last month</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-content">
                            <div class="stat-info">
                                <h6 class="stat-label">Revenue</h6>
                                <!-- <h3 class="stat-value">${{ "%.2f"|format(total_revenue) }}</h3> -->
                            </div>
                            <div class="stat-icon revenue-icon">
                                <i class="bi bi-currency-dollar"></i>
                            </div>
                        </div>
                        <div class="stat-footer">
                            <span class="trend positive">
                                <i class="bi bi-arrow-up"></i> 15%
                            </span>
                            <span class="period">From last month</span>
                        </div>
                    </div>
                </div>

                <!-- Recent Orders -->
                <div class="card recent-orders">
                    <div class="card-header">
                        <h5>Recent Orders</h5>
                        <div class="card-actions">
                            <button class="btn-icon"><!DOCTYPE html>
                                <html lang="en">
                                <head>
                                    <meta charset="UTF-8">
                                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                    <title>Admin Dashboard - MOTION_MART</title>
                                    <!-- Removed Bootstrap CSS -->
                                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
                                    <!-- Link to your custom CSS -->
                                    <link rel="stylesheet" href="{{ url_for('static', filename='admin_dashboard.css') }}">
                                    <style>
                                        /* Basic reset and body styling (can be expanded) */
                                        body, html {
                                            margin: 0;
                                            padding: 0;
                                            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                                            background-color: #f8f9fa; /* Light background */
                                            color: #212529; /* Default text color */
                                            line-height: 1.5;
                                        }
                                        *, *::before, *::after {
                                            box-sizing: border-box;
                                        }
                                    </style>
                                </head>
                                <body>
                                    <div class="dashboard-container">
                                        <div class="dashboard-layout">
                                            <!-- Sidebar -->
                                            <aside class="sidebar">
                                                <div class="sidebar-content">
                                                    <h4 class="mb-4">
                                                        <i class="bi bi-shop"></i> Admin Panel
                                                    </h4>
                                                    <ul class="nav flex-column">
                                                        <li class="nav-item">
                                                            <a class="nav-link active" href="{{ url_for('admin_dashboard') }}">
                                                                <i class="bi bi-speedometer2"></i> Dashboard
                                                            </a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" href="{{ url_for('admin_orders') }}">
                                                                <i class="bi bi-cart-check"></i> Orders
                                                            </a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" href="{{ url_for('manage_users') }}">
                                                                <i class="bi bi-people"></i> Users
                                                            </a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" href="{{ url_for('manage_products') }}">
                                                                <i class="bi bi-box"></i> Products
                                                            </a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" href="{{ url_for('profile') }}">
                                                                <i class="bi bi-person"></i> Profile
                                                            </a>
                                                        </li>
                                                        <li class="nav-item mt-4">
                                                            <a class="nav-link text-danger" href="{{ url_for('logout') }}">
                                                                <i class="bi bi-box-arrow-right"></i> Logout
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </aside>
                                
                                            <!-- Main Content -->
                                            <main class="main-content">
                                                <div class="d-flex justify-content-between align-items-center mb-4">
                                                    <h2>Dashboard Overview</h2>
                                                    <div class="d-flex gap-2">
                                                        <button class="btn btn-outline-primary">
                                                            <i class="bi bi-download"></i> Export
                                                        </button>
                                                        <button class="btn btn-primary">
                                                            <i class="bi bi-plus-lg"></i> Add New
                                                        </button>
                                                    </div>
                                                </div>
                                
                                                <!-- Stats Cards -->
                                                <div class="stats-grid mb-4">
                                                    <div class="stat-card-wrapper">
                                                        <div class="card">
                                                            <div class="card-content">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <div>
                                                                        <h6 class="text-muted mb-2">Total Orders</h6>
                                                                        <h3 class="mb-0">{{ total_orders }}</h3>
                                                                    </div>
                                                                    <div class="stat-icon text-primary">
                                                                        <i class="bi bi-cart"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="stat-card-wrapper">
                                                        <div class="card">
                                                            <div class="card-content">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <div>
                                                                        <h6 class="text-muted mb-2">Total Users</h6>
                                                                        <h3 class="mb-0">{{ total_users }}</h3>
                                                                    </div>
                                                                    <div class="stat-icon text-success">
                                                                        <i class="bi bi-people"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="stat-card-wrapper">
                                                        <div class="card">
                                                            <div class="card-content">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <div>
                                                                        <h6 class="text-muted mb-2">Total Products</h6>
                                                                        <h3 class="mb-0">{{ total_products }}</h3>
                                                                    </div>
                                                                    <div class="stat-icon text-warning">
                                                                        <i class="bi bi-box"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="stat-card-wrapper">
                                                        <div class="card">
                                                            <div class="card-content">
                                                                <div class="d-flex justify-content-between align-items-center">
                                                                    <div>
                                                                        <h6 class="text-muted mb-2">Revenue</h6>
                                                                        <!-- <h3 class="mb-0">${{ "%.2f"|format(total_revenue) }}</h3> -->
                                                                    </div>
                                                                    <div class="stat-icon text-info">
                                                                        <i class="bi bi-currency-dollar"></i>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                
                                                <!-- Recent Orders -->
                                                <div class="card recent-orders-card">
                                                    <div class="card-header">
                                                        <h5 class="mb-0">Recent Orders</h5>
                                                    </div>
                                                    <div class="card-content p-0">
                                                        <div class="table-responsive">
                                                            <table class="table">
                                                                <thead class="table-light">
                                                                    <tr>
                                                                        <th>Order ID</th>
                                                                        <th>Customer</th>
                                                                        <th>Product</th>
                                                                        <th>Amount</th>
                                                                        <th>Status</th>
                                                                        <th>Date</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    {% for order in orders %}
                                                                    <tr class="order-item">
                                                                        <td>#{{ order.id }}</td>
                                                                        <td>{{ order.buyer.username }}</td>
                                                                        <td>{{ order.product.name }}</td>
                                                                        <td>${{ order.product.price * order.quantity }}</td>
                                                                        <td class="status-cell">
                                                                            <span class="badge bg-{{ order.status.lower() }}">
                                                                                {{ order.status }}
                                                                            </span>
                                                                        </td>
                                                                        <td>{{ order.date_ordered.strftime('%Y-%m-%d') }}</td>
                                                                        <td>
                                                                            <a href="{{ url_for('update_order', order_id=order.id) }}" class="btn btn-sm btn-outline-primary">
                                                                                <i class="bi bi-pencil"></i>
                                                                            </a>
                                                                        </td>
                                                                    </tr><!DOCTYPE html>
                                                                    <html lang="en">
                                                                    <head>
                                                                        <meta charset="UTF-8">
                                                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                                                        <title>Admin Dashboard - MOTION_MART</title>
                                                                        <!-- Removed Bootstrap CSS -->
                                                                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
                                                                        <!-- Link to your custom CSS -->
                                                                        <link rel="stylesheet" href="{{ url_for('static', filename='admin_dashboard.css') }}">
                                                                        <style>
                                                                            /* Basic reset and body styling (can be expanded) */
                                                                            body, html {
                                                                                margin: 0;
                                                                                padding: 0;
                                                                                font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                                                                                background-color: #f8f9fa; /* Light background */
                                                                                color: #212529; /* Default text color */
                                                                                line-height: 1.5;
                                                                            }
                                                                            *, *::before, *::after {
                                                                                box-sizing: border-box;
                                                                            }
                                                                        </style>
                                                                    </head>
                                                                    <body>
                                                                        <div class="dashboard-container">
                                                                            <div class="dashboard-layout">
                                                                                <!-- Sidebar -->
                                                                                <aside class="sidebar">
                                                                                    <div class="sidebar-content">
                                                                                        <h4 class="mb-4">
                                                                                            <i class="bi bi-shop"></i> Admin Panel
                                                                                        </h4>
                                                                                        <ul class="nav flex-column">
                                                                                            <li class="nav-item">
                                                                                                <a class="nav-link active" href="{{ url_for('admin_dashboard') }}">
                                                                                                    <i class="bi bi-speedometer2"></i> Dashboard
                                                                                                </a>
                                                                                            </li>
                                                                                            <li class="nav-item">
                                                                                                <a class="nav-link" href="{{ url_for('admin_orders') }}">
                                                                                                    <i class="bi bi-cart-check"></i> Orders
                                                                                                </a>
                                                                                            </li>
                                                                                            <li class="nav-item">
                                                                                                <a class="nav-link" href="{{ url_for('manage_users') }}">
                                                                                                    <i class="bi bi-people"></i> Users
                                                                                                </a>
                                                                                            </li>
                                                                                            <li class="nav-item">
                                                                                                <a class="nav-link" href="{{ url_for('manage_products') }}">
                                                                                                    <i class="bi bi-box"></i> Products
                                                                                                </a>
                                                                                            </li>
                                                                                            <li class="nav-item">
                                                                                                <a class="nav-link" href="{{ url_for('profile') }}">
                                                                                                    <i class="bi bi-person"></i> Profile
                                                                                                </a>
                                                                                            </li>
                                                                                            <li class="nav-item mt-4">
                                                                                                <a class="nav-link text-danger" href="{{ url_for('logout') }}">
                                                                                                    <i class="bi bi-box-arrow-right"></i> Logout
                                                                                                </a>
                                                                                            </li>
                                                                                        </ul>
                                                                                    </div>
                                                                                </aside>
                                                                    
                                                                                <!-- Main Content -->
                                                                                <main class="main-content">
                                                                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                                                                        <h2>Dashboard Overview</h2>
                                                                                        <div class="d-flex gap-2">
                                                                                            <button class="btn btn-outline-primary">
                                                                                                <i class="bi bi-download"></i> Export
                                                                                            </button>
                                                                                            <button class="btn btn-primary">
                                                                                                <i class="bi bi-plus-lg"></i> Add New
                                                                                            </button>
                                                                                        </div>
                                                                                    </div>
                                                                    
                                                                                    <!-- Stats Cards -->
                                                                                    <div class="stats-grid mb-4">
                                                                                        <div class="stat-card-wrapper">
                                                                                            <div class="card">
                                                                                                <div class="card-content">
                                                                                                    <div class="d-flex justify-content-between align-items-center">
                                                                                                        <div>
                                                                                                            <h6 class="text-muted mb-2">Total Orders</h6>
                                                                                                            <h3 class="mb-0">{{ total_orders }}</h3>
                                                                                                        </div>
                                                                                                        <div class="stat-icon text-primary">
                                                                                                            <i class="bi bi-cart"></i>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="stat-card-wrapper">
                                                                                            <div class="card">
                                                                                                <div class="card-content">
                                                                                                    <div class="d-flex justify-content-between align-items-center">
                                                                                                        <div>
                                                                                                            <h6 class="text-muted mb-2">Total Users</h6>
                                                                                                            <h3 class="mb-0">{{ total_users }}</h3>
                                                                                                        </div>
                                                                                                        <div class="stat-icon text-success">
                                                                                                            <i class="bi bi-people"></i>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="stat-card-wrapper">
                                                                                            <div class="card">
                                                                                                <div class="card-content">
                                                                                                    <div class="d-flex justify-content-between align-items-center">
                                                                                                        <div>
                                                                                                            <h6 class="text-muted mb-2">Total Products</h6>
                                                                                                            <h3 class="mb-0">{{ total_products }}</h3>
                                                                                                        </div>
                                                                                                        <div class="stat-icon text-warning">
                                                                                                            <i class="bi bi-box"></i>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="stat-card-wrapper">
                                                                                            <div class="card">
                                                                                                <div class="card-content">
                                                                                                    <div class="d-flex justify-content-between align-items-center">
                                                                                                        <div>
                                                                                                            <h6 class="text-muted mb-2">Revenue</h6>
                                                                                                            <!-- <h3 class="mb-0">${{ "%.2f"|format(total_revenue) }}</h3> -->
                                                                                                        </div>
                                                                                                        <div class="stat-icon text-info">
                                                                                                            <i class="bi bi-currency-dollar"></i>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                    
                                                                                    <!-- Recent Orders -->
                                                                                    <div class="card recent-orders-card">
                                                                                        <div class="card-header">
                                                                                            <h5 class="mb-0">Recent Orders</h5>
                                                                                        </div>
                                                                                        <div class="card-content p-0">
                                                                                            <div class="table-responsive">
                                                                                                <table class="table">
                                                                                                    <thead class="table-light">
                                                                                                        <tr>
                                                                                                            <th>Order ID</th>
                                                                                                            <th>Customer</th>
                                                                                                            <th>Product</th>
                                                                                                            <th>Amount</th>
                                                                                                            <th>Status</th>
                                                                                                            <th>Date</th>
                                                                                                            <th>Action</th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>
                                                                                                        {% for order in orders %}
                                                                                                        <tr class="order-item">
                                                                                                            <td>#{{ order.id }}</td>
                                                                                                            <td>{{ order.buyer.username }}</td>
                                                                                                            <td>{{ order.product.name }}</td>
                                                                                                            <td>${{ order.product.price * order.quantity }}</td>
                                                                                                            <td class="status-cell">
                                                                                                                <span class="badge bg-{{ order.status.lower() }}">
                                                                                                                    {{ order.status }}
                                                                                                                </span>
                                                                                                            </td>
                                                                                                            <td>{{ order.date_ordered.strftime('%Y-%m-%d') }}</td>
                                                                                                            <td>
                                                                                                                <a href="{{ url_for('update_order', order_id=order.id) }}" class="btn btn-sm btn-outline-primary">
                                                                                                                    <i class="bi bi-pencil"></i>
                                                                                                                </a>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                        {% endfor %}
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </main>
                                                                            </div>
                                                                        </div>
                                                                    </body>
                                                                    </html>
                                                                    
                                                                    {% endfor %}
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </main>
                                        </div>
                                    </div>
                                </body>
                                </html>
                                
                                <i class="bi bi-three-dots-vertical"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Customer</th>
                                        <th>Product</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for order in orders %}
                                    <tr>
                                        <td>#{{ order.id }}</td>
                                        <td>{{ order.buyer.username }}</td>
                                        <td>{{ order.product.name }}</td>
                                        <td>${{ "%.2f"|format(order.product.price * order.quantity) }}</td>
                                        <td>
                                            <span class="status-badge {{ order.status.lower() }}">
                                                {{ order.status }}
                                            </span>
                                        </td>
                                        <td>{{ order.date_ordered.strftime('%Y-%m-%d') }}</td>
                                        <td>
                                            <div class="action-buttons">
                                                <a href="{{ url_for('update_order', order_id=order.id) }}" class="btn-action edit">
                                                    <i class="bi bi-pencil"></i>
                                                </a>
                                                <button class="btn-action view">
                                                    <i class="bi bi-eye"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="card-footer">
                        <a href="{{ url_for('admin_orders') }}" class="view-all">
                            View All Orders <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>
</html>